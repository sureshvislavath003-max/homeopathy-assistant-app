{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SURESH VISLAVATH\\\\OneDrive\\\\Desktop\\\\homeopathy-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\n\n// Lucide React Icons for a clean look\nimport { Sun, Moon, Mic, ChevronRight, Heart, Pill, ShieldOff, Leaf, BookOpen } from 'lucide-react';\n\n// Define the Firebase config and app ID from the global variables\n// Provide fallback values for local development\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {\n  apiKey: \"YOUR_FIREBASE_API_KEY\",\n  // Replace with your actual Firebase API Key if you want to use Firebase locally\n  authDomain: \"YOUR_FIREBASE_AUTH_DOMAIN\",\n  projectId: \"YOUR_FIREBASE_PROJECT_ID\",\n  storageBucket: \"YOUR_FIREBASE_STORAGE_BUCKET\",\n  messagingSenderId: \"YOUR_FIREBASE_MESSAGING_SENDER_ID\",\n  appId: \"YOUR_FIREBASE_APP_ID\"\n};\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id-for-local'; // Fallback for local\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null; // Fallback for local\n\n// Initialize Firebase outside the component to avoid re-initialization\nlet app;\nlet auth;\nlet db;\ntry {\n  app = initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  db = getFirestore(app);\n} catch (error) {\n  console.error(\"Firebase initialization error:\", error);\n}\nconst App = () => {\n  _s();\n  const [symptomInput, setSymptomInput] = useState('');\n  const [remedyData, setRemedyData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isClarifying, setIsClarifying] = useState(false);\n  // clarifiedSymptoms will now store an array of objects: [{ category: string, options: string[] }]\n  const [clarifiedSymptoms, setClarifiedSymptoms] = useState(null);\n  const [currentQuestionnaireIndex, setCurrentQuestionnaireIndex] = useState(0); // Current step in questionnaire\n  const [selectedClarifications, setSelectedClarifications] = useState([]); // Stores all selected option strings across steps\n  const [error, setError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [darkMode, setDarkMode] = useState(false); // Dark mode state\n\n  // Ref for voice input\n  const recognitionRef = useRef(null);\n  const inputRef = useRef(null); // Ref for the main symptom input field\n\n  // Authenticate with Firebase on component mount\n  useEffect(() => {\n    const authenticateFirebase = async () => {\n      if (!auth) {\n        setError(\"Firebase Auth not initialized.\");\n        setIsAuthReady(true);\n        return;\n      }\n      try {\n        if (initialAuthToken) {\n          await signInWithCustomToken(auth, initialAuthToken);\n        } else {\n          await signInAnonymously(auth);\n        }\n        onAuthStateChanged(auth, user => {\n          if (user) {\n            setUserId(user.uid);\n          } else {\n            setUserId(crypto.randomUUID()); // Fallback for unauthenticated\n          }\n          setIsAuthReady(true);\n        });\n      } catch (e) {\n        console.error(\"Firebase authentication error:\", e);\n        setError(\"Failed to authenticate with Firebase.\");\n        setUserId(crypto.randomUUID()); // Fallback to a random ID\n        setIsAuthReady(true);\n      }\n    };\n    if (auth && !isAuthReady) {\n      authenticateFirebase();\n    }\n  }, [auth, initialAuthToken, isAuthReady]); // Added auth and initialAuthToken as dependencies for useEffect.\n\n  // Handle dark mode class on body\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [darkMode]);\n\n  // Initialize SpeechRecognition\n  useEffect(() => {\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false; // Only get one result at a time\n      recognitionRef.current.interimResults = false; // Don't show interim results\n\n      recognitionRef.current.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        if (inputRef.current) {\n          // Determine which input field to update based on context\n          if (isClarifying) {\n            // If questionnaire is active, update symptomInput\n            setSymptomInput(prev => prev.trim() ? `${prev}, ${transcript}` : transcript);\n          } else {\n            // Otherwise, update the main symptom input\n            setSymptomInput(transcript);\n          }\n        }\n        setIsLoading(false); // Stop loading indicator after speech input\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setError(`Speech recognition error: ${event.error}`);\n        setIsLoading(false);\n      };\n      recognitionRef.current.onend = () => {\n        setIsLoading(false); // Ensure loading is off when recognition ends\n      };\n    } else {\n      console.warn('Speech Recognition not supported in this browser.');\n      // Optionally, disable mic button or show a message\n    }\n  }, [isClarifying]); // Re-initialize if isClarifying changes to correctly target input\n\n  const startVoiceInput = () => {\n    if (recognitionRef.current && !isLoading) {\n      setError(null);\n      setIsLoading(true); // Show loading indicator while listening\n      try {\n        recognitionRef.current.start();\n      } catch (e) {\n        console.error(\"Error starting speech recognition:\", e);\n        setError(\"Could not start voice input. Please ensure microphone access is granted.\");\n        setIsLoading(false);\n      }\n    }\n  };\n\n  // Generic function to call Gemini API with exponential backoff\n  const callGeminiApi = async (prompt, isJson, customResponseSchema = null, retries = 0) => {\n    const chatHistory = [{\n      role: \"user\",\n      parts: [{\n        text: prompt\n      }]\n    }];\n    const payload = {\n      contents: chatHistory,\n      generationConfig: isJson ? {\n        responseMimeType: \"application/json\",\n        responseSchema: customResponseSchema || {\n          // Default schema for remedies\n          type: \"OBJECT\",\n          properties: {\n            remedies: {\n              type: \"ARRAY\",\n              items: {\n                type: \"OBJECT\",\n                properties: {\n                  name: {\n                    type: \"STRING\"\n                  },\n                  used_for: {\n                    type: \"STRING\"\n                  },\n                  how_it_works: {\n                    type: \"STRING\"\n                  },\n                  dosage: {\n                    type: \"STRING\"\n                  },\n                  stop_when: {\n                    type: \"STRING\"\n                  },\n                  avoid: {\n                    type: \"STRING\"\n                  },\n                  side_effects: {\n                    type: \"STRING\"\n                  },\n                  source: {\n                    type: \"STRING\"\n                  }\n                },\n                required: [\"name\", \"used_for\", \"how_it_works\", \"dosage\", \"stop_when\", \"avoid\", \"side_effects\", \"source\"]\n              }\n            },\n            lifestyle_tips: {\n              type: \"ARRAY\",\n              items: {\n                type: \"STRING\"\n              }\n            }\n          },\n          required: [\"remedies\"]\n        }\n      } : {}\n    };\n\n    // YOUR ACTUAL GEMINI API KEY IS NOW HERE\n    const apiKey = \"AIzaSyC1T68RXnaa55ek6uS-YrF8oRAWB_8QeBI\";\n    // If you are running this in the Canvas environment, the apiKey will be provided automatically.\n    // For local development, you MUST replace the placeholder above with your own key.\n\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const result = await response.json();\n      if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n        const responseText = result.candidates[0].content.parts[0].text;\n        return isJson ? JSON.parse(responseText) : responseText;\n      } else {\n        throw new Error(\"Invalid response format from API.\");\n      }\n    } catch (e) {\n      console.error(\"API call error:\", e);\n      if (retries < 3) {\n        // Exponential backoff with max 3 retries\n        const delay = Math.pow(2, retries) * 1000; // 1s, 2s, 4s\n        await new Promise(res => setTimeout(res, delay)); // Wait for delay\n        return callGeminiApi(prompt, isJson, customResponseSchema, retries + 1); // Retry with custom schema\n      } else {\n        throw new Error(\"Failed to communicate with the AI. Please try again later.\");\n      }\n    }\n  };\n  const fetchRemedies = async () => {\n    if (!symptomInput.trim()) {\n      setError(\"Please enter symptoms or a disease name.\");\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    setRemedyData(null);\n    setClarifiedSymptoms(null); // Clear clarified symptoms when fetching remedies\n    setSelectedClarifications([]); // Clear selections\n    setCurrentQuestionnaireIndex(0); // Reset questionnaire index\n\n    const prompt = `As a world-class expert homeopath, provide structured, professional, safe, and clear homeopathic remedy suggestions for the following symptoms/disease: '${symptomInput}'.\n    Please provide the output in the following JSON format:\n    \\`\\`\\`json\n    {\n      \"remedies\": [\n        {\n          \"name\": \"Bryonia alba\",\n          \"used_for\": \"Dry cough with chest pain\",\n          \"how_it_works\": \"Relieves cough by reducing internal dryness and inflammation in the chest lining.\",\n          \"dosage\": \"30C, twice a day for 5 days\",\n          \"stop_when\": \"When cough reduces significantly or after 7 days\",\n          \"avoid\": \"Pregnant women, children under 5 years\",\n          \"side_effects\": \"Rare nausea or dry mouth\",\n          \"source\": \"Extracted from the root of the white bryony plant\"\n        }\n      ],\n      \"lifestyle_tips\": [\n        \"Drink warm water with honey\",\n        \"Avoid cold foods and drinks\",\n        \"Rest the voice if throat is affected\"\n      ]\n    }\n    \\`\\`\\`\n    Ensure the 'dosage' includes potency, frequency, and duration. 'stop_when' should clearly state when to discontinue. 'avoid' should list who should not use it. 'side_effects' should mention possible side effects. 'source' should state the natural origin. Provide top 3 remedies if possible.`;\n    try {\n      const parsedJson = await callGeminiApi(prompt, true);\n      setRemedyData(parsedJson);\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const clarifySymptoms = async () => {\n    if (!symptomInput.trim()) {\n      setError(\"Please enter symptoms or a disease name to clarify.\");\n      return;\n    }\n    setIsClarifying(true);\n    setError(null);\n    setRemedyData(null); // Clear previous remedy data\n    setClarifiedSymptoms(null); // Clear previous clarifications\n    setSelectedClarifications([]); // Clear selections\n    setCurrentQuestionnaireIndex(0); // Reset to the first step\n\n    // Define the schema for the structured clarification response\n    const clarificationSchema = {\n      type: \"ARRAY\",\n      items: {\n        type: \"OBJECT\",\n        properties: {\n          category: {\n            type: \"STRING\"\n          },\n          options: {\n            type: \"ARRAY\",\n            items: {\n              type: \"STRING\"\n            }\n          }\n        },\n        required: [\"category\", \"options\"]\n      }\n    };\n\n    // Updated prompt to specifically ask for a much more comprehensive questionnaire (20-50 questions)\n    const prompt = `As a professional classical homeopath AI assistant, I need to thoroughly understand the user's symptoms or disease: '${symptomInput}'. Please generate a comprehensive questionnaire with multiple categories of clarifying questions. These questions should delve deeply into the **specific characteristics of the current symptoms**, **past medical history (including family history and previous illnesses/treatments related or unrelated to the current issue)**, **mental and emotional state (including temperament, anxieties, fears, mood swings, reactions to stress)**, and **relevant lifestyle factors (e.g., detailed diet preferences/aversions, sleep patterns and quality, energy levels throughout the day, daily habits, reactions to weather/temperature changes, environmental sensitivities, thirst, perspiration, desires, and aversions)**.\n\n    Aim for a total of **20 to 50 specific, distinct questions/statements** across all categories, ensuring each category has a diverse set of 3-7 tickable options that a user can choose from. The questions should be phrased empathetically and professionally, like a homeodoctor conducting a detailed intake.\n\n    Format your response as a JSON array of objects, where each object has a 'category' (the question or general symptom area) and an 'options' array (a list of specific choices).\n\n    Example of desired output structure with more extensive categories and options (for reference, actual content will be dynamic):\n    [\n      {\"category\": \"Current Symptom - Pain Character\", \"options\": [\"Stinging\", \"Burning\", \"Throbbing\", \"Dull ache\", \"Sharp, cutting\", \"Pressing\", \"Tearing\", \"Sore, bruised\", \"Cramping\"]},\n      {\"category\": \"Current Symptom - Modalities (Better/Worse)\", \"options\": [\"Worse from cold\", \"Better from warmth\", \"Worse from motion\", \"Better from rest\", \"Worse at night\", \"Better in open air\", \"Worse from touch\", \"Better from pressure\", \"Worse after eating\"]},\n      {\"category\": \"Past Medical History - Childhood Illnesses\", \"options\": [\"Frequent colds/flu as child\", \"Measles\", \"Mumps\", \"Chickenpox\", \"Frequent ear infections\", \"Chronic tonsillitis\"]},\n      {\"category\": \"Past Medical History - Adult Illnesses\", \"options\": [\"Recurrent infections\", \"Allergies/Asthma history\", \"Skin conditions (eczema, psoriasis)\", \"Digestive disorders (IBS, ulcers)\", \"Migraines/Headaches\", \"Joint pain/Arthritis\", \"Thyroid issues\", \"Diabetes\"]},\n      {\"category\": \"Mental/Emotional State - Mood\", \"options\": [\"Irritable/Impatient\", \"Anxious/Fearful\", \"Sad/Depressed\", \"Indifferent/Apathetic\", \"Restless/Agitated\", \"Overly sensitive\", \"Easily angered\", \"Cheerful/Optimistic\"]},\n      {\"category\": \"Lifestyle - Sleep Patterns\", \"options\": [\"Sound and refreshing\", \"Restless with frequent waking\", \"Difficulty falling asleep\", \"Waking too early and cannot return to sleep\", \"Sleepwalking/talking\", \"Drowsiness during the day\", \"Insomnia from thoughts\"]},\n      {\"category\": \"Lifestyle - Food Preferences/Aversions\", \"options\": [\"Craves sweets\", \"Craves salty foods\", \"Aversion to meat\", \"Desires sour foods\", \"Thirst for cold drinks\", \"No thirst\", \"Craves spicy foods\", \"Aversion to fatty foods\", \"Desires milk\"]},\n      {\"category\": \"Lifestyle - Thirst\", \"options\": [\"Frequent, large quantities\", \"Frequent, small sips\", \"No thirst\", \"Thirst for cold drinks\", \"Thirst for warm drinks\"]},\n      {\"category\": \"Lifestyle - Perspiration\", \"options\": [\"Profuse perspiration\", \"Scanty perspiration\", \"Perspires easily\", \"Night sweats\", \"Perspiration stains yellow\"]},\n      {\"category\": \"Lifestyle - General Sensitivities\", \"options\": [\"Sensitive to noise\", \"Sensitive to light\", \"Sensitive to odors\", \"Sensitive to touch\", \"Sensitive to pain\"]},\n      {\"category\": \"Lifestyle - Reactions to Weather\", \"options\": [\"Worse in cold, damp weather\", \"Better in open air\", \"Worse in stuffy rooms\", \"Sensitive to drafts\", \"Worse from heat\", \"Better from warmth\", \"Worse before storms\"]}\n    ]`;\n    try {\n      const clarificationArray = await callGeminiApi(prompt, true, clarificationSchema);\n      setClarifiedSymptoms(clarificationArray);\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setIsClarifying(false);\n    }\n  };\n\n  // Handler for checkbox changes for the current step\n  const handleCheckboxChange = option => {\n    setSelectedClarifications(prevSelected => prevSelected.includes(option) ? prevSelected.filter(item => item !== option) : [...prevSelected, option]);\n  };\n\n  // Navigate questionnaire steps\n  const handleQuestionnaireNavigation = async () => {\n    if (!clarifiedSymptoms) return;\n    const currentCategory = clarifiedSymptoms[currentQuestionnaireIndex];\n    const selectedOptionsForCurrentStep = currentCategory.options.filter(option => selectedClarifications.includes(option));\n\n    // Append selected options for current step to symptomInput\n    const currentInput = symptomInput.trim();\n    const newSymptomPart = selectedOptionsForCurrentStep.length > 0 ? selectedOptionsForCurrentStep.join(', ') : '';\n    setSymptomInput(currentInput ? `${currentInput}, ${newSymptomPart}` : newSymptomPart);\n\n    // If it's the last step, trigger remedy fetch\n    if (currentQuestionnaireIndex === clarifiedSymptoms.length - 1) {\n      setClarifiedSymptoms(null); // Hide questionnaire\n      setSelectedClarifications([]); // Clear selections\n      setCurrentQuestionnaireIndex(0); // Reset index\n      await fetchRemedies(); // Fetch remedies with accumulated symptoms\n    } else {\n      // Move to next step\n      setCurrentQuestionnaireIndex(prevIndex => prevIndex + 1);\n      // Keep existing selectedClarifications as they are cumulative\n    }\n  };\n  const resetApp = () => {\n    setSymptomInput('');\n    setRemedyData(null);\n    setIsLoading(false);\n    setIsClarifying(false);\n    setClarifiedSymptoms(null);\n    setCurrentQuestionnaireIndex(0);\n    setSelectedClarifications([]);\n    setError(null);\n    // userId and isAuthReady remain\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${darkMode ? 'bg-gray-900 text-gray-100' : 'bg-gradient-to-br from-green-50 to-blue-100 text-gray-800'} p-4 sm:p-6 lg:p-8 flex flex-col items-center font-inter transition-colors duration-300`,\n    children: [/*#__PURE__*/_jsxDEV(\"script\", {\n      src: \"https://cdn.tailwindcss.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap\",\n      rel: \"stylesheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\",\n      rel: \"stylesheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-full max-w-3xl ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg p-6 sm:p-8 lg:p-10 mb-8 transition-colors duration-300`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: `text-3xl sm:text-4xl font-bold ${darkMode ? 'text-green-300' : 'text-green-700'} text-center flex-grow`,\n          children: \"Homeopathy Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setDarkMode(!darkMode),\n            className: `p-2 rounded-full ${darkMode ? 'bg-gray-700 text-yellow-300' : 'bg-gray-200 text-gray-700'} hover:scale-105 transition-transform duration-200`,\n            \"aria-label\": darkMode ? \"Switch to Light Mode\" : \"Switch to Dark Mode\",\n            children: darkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 27\n            }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-center ${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-8`,\n        children: \"Enter your symptoms or a disease name to get personalized homeopathic remedy suggestions.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex-grow\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputRef // Attach ref for voice input\n            ,\n            type: \"text\",\n            value: symptomInput,\n            onChange: e => {\n              setSymptomInput(e.target.value);\n              setClarifiedSymptoms(null); // Clear clarification when input changes\n              setSelectedClarifications([]); // Clear selections when input changes\n              setCurrentQuestionnaireIndex(0); // Reset questionnaire index\n            },\n            placeholder: \"e.g., dry cough with chest pain, fever, anxiety\",\n            className: `w-full p-3 pr-10 border ${darkMode ? 'border-gray-600 bg-gray-700 text-gray-100' : 'border-gray-300 bg-white text-gray-700'} rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'focus:ring-green-400' : 'focus:ring-blue-400'}`,\n            disabled: isLoading || !isAuthReady\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startVoiceInput,\n            className: `absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full ${darkMode ? 'text-gray-300 hover:bg-gray-600' : 'text-gray-500 hover:bg-gray-100'} transition-colors duration-200`,\n            \"aria-label\": \"Voice Input\",\n            disabled: isLoading || !isAuthReady || !recognitionRef.current,\n            children: /*#__PURE__*/_jsxDEV(Mic, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchRemedies,\n          disabled: isLoading || !isAuthReady || isClarifying,\n          className: `px-6 py-3 ${darkMode ? 'bg-green-600 hover:bg-green-700 focus:ring-green-500' : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500'} text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed`,\n          children: isLoading && !isClarifying ? 'Searching...' : 'Get Remedies Directly'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clarifySymptoms,\n          disabled: isClarifying || !isAuthReady || isLoading,\n          className: `px-6 py-3 ${darkMode ? 'bg-teal-600 hover:bg-teal-700 focus:ring-teal-500' : 'bg-green-600 hover:bg-green-700 focus:ring-green-500'} text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed`,\n          children: isClarifying ? 'Clarifying...' : '✨ Clarify Symptoms'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${darkMode ? 'bg-red-800 text-red-200' : 'bg-red-100 border border-red-400 text-red-700'} px-4 py-3 rounded-lg relative mb-6`,\n        role: \"alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"font-bold\",\n          children: \"Error: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block sm:inline\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this), userId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'} text-center mb-4`,\n        children: [\"User ID: \", userId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), clarifiedSymptoms && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-full max-w-3xl ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg p-6 sm:p-8 lg:p-10 mb-8 transition-colors duration-300`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl sm:text-3xl font-bold ${darkMode ? 'text-green-300' : 'text-gray-800'} mb-4 text-center`,\n        children: \"Symptom Clarification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-sm italic ${darkMode ? 'text-gray-400' : 'text-gray-600'} mb-4 text-center`,\n        children: \"Select relevant options to refine your symptom input.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: clarifiedSymptoms[currentQuestionnaireIndex] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `border ${darkMode ? 'border-gray-700' : 'border-gray-200'} rounded-lg p-4 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-3`,\n            children: [currentQuestionnaireIndex + 1, \". \", clarifiedSymptoms[currentQuestionnaireIndex].category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: clarifiedSymptoms[currentQuestionnaireIndex].options.map((option, optIndex) => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `flex items-center space-x-3 cursor-pointer p-2 rounded-md ${darkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'} transition-colors duration-200`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: selectedClarifications.includes(option),\n                onChange: () => handleCheckboxChange(option),\n                className: `form-checkbox h-5 w-5 ${darkMode ? 'text-green-500 focus:ring-green-400' : 'text-blue-600 focus:ring-blue-500'} rounded`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `${darkMode ? 'text-gray-100' : 'text-gray-800'} text-base`,\n                children: option\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 23\n              }, this)]\n            }, optIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleQuestionnaireNavigation,\n        className: `mt-6 w-full px-6 py-3 ${darkMode ? 'bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500' : 'bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500'} text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed`,\n        disabled: isLoading,\n        children: [currentQuestionnaireIndex === clarifiedSymptoms.length - 1 ? 'Add Selected to Symptoms and Get Remedies' : 'Next Step', /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 20,\n          className: \"inline-block ml-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 9\n    }, this), remedyData && remedyData.remedies && remedyData.remedies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-full max-w-3xl ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg p-6 sm:p-8 lg:p-10 transition-colors duration-300`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-2xl sm:text-3xl font-bold ${darkMode ? 'text-green-300' : 'text-gray-800'} mb-6 text-center`,\n        children: \"Suggested Remedies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this), remedyData.remedies.map((remedy, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `border ${darkMode ? 'border-gray-700' : 'border-gray-200'} rounded-lg p-5 mb-6 last:mb-0 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-xl font-semibold ${darkMode ? 'text-blue-300' : 'text-blue-700'} mb-3 flex items-center`,\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            size: 24,\n            className: \"mr-2 text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 17\n          }, this), \" \\u2705 \", remedy.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n            children: \"Treats:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 85\n          }, this), \" \", remedy.used_for]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-4`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n            children: \"How it works:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 85\n          }, this), \" \", remedy.how_it_works]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `border-t ${darkMode ? 'border-gray-600' : 'border-gray-200'} pt-4 mt-4`,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: `text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-2 flex items-center`,\n            children: [/*#__PURE__*/_jsxDEV(Pill, {\n              size: 20,\n              className: \"mr-2 text-yellow-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 19\n            }, this), \" Dosage and Potency\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n              children: \"Recommended:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 87\n            }, this), \" \", remedy.dosage]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n              children: \"Stop when:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 87\n            }, this), \" \", remedy.stop_when]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `border-t ${darkMode ? 'border-gray-600' : 'border-gray-200'} pt-4 mt-4`,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: `text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-2 flex items-center`,\n            children: [/*#__PURE__*/_jsxDEV(ShieldOff, {\n              size: 20,\n              className: \"mr-2 text-orange-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this), \" When to Avoid This Remedy\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n              children: \"Avoid if:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 87\n            }, this), \" \", remedy.avoid]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n              children: \"Possible side effects:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 87\n            }, this), \" \", remedy.side_effects]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${darkMode ? 'text-gray-400' : 'text-gray-700'} text-sm italic mt-2`,\n            children: \"Always consult a qualified healthcare professional if symptoms persist or worsen, or before starting any new treatment, especially if you have underlying health conditions or are on other medications.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `border-t ${darkMode ? 'border-gray-600' : 'border-gray-200'} pt-4 mt-4`,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: `text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-2 flex items-center`,\n            children: [/*#__PURE__*/_jsxDEV(Leaf, {\n              size: 20,\n              className: \"mr-2 text-green-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 19\n            }, this), \" Remedy Source\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: `${darkMode ? 'text-gray-100' : 'text-gray-800'}`,\n              children: \"Origin:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 82\n            }, this), \" \", remedy.source]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 13\n      }, this)), remedyData.lifestyle_tips && remedyData.lifestyle_tips.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `border ${darkMode ? 'border-gray-700' : 'border-gray-200'} rounded-lg p-5 mt-6 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-xl font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-3 flex items-center`,\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            size: 20,\n            className: \"mr-2 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 17\n          }, this), \" General Lifestyle Tips\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: `list-disc list-inside ${darkMode ? 'text-gray-200' : 'text-gray-700'}`,\n          children: remedyData.lifestyle_tips.map((tip, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"mb-1\",\n            children: tip\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"eYSD93Lxs84YS+nXUggl3OPSTkM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","getFirestore","Sun","Moon","Mic","ChevronRight","Heart","Pill","ShieldOff","Leaf","BookOpen","jsxDEV","_jsxDEV","firebaseConfig","__firebase_config","JSON","parse","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","__app_id","initialAuthToken","__initial_auth_token","app","auth","db","error","console","App","_s","symptomInput","setSymptomInput","remedyData","setRemedyData","isLoading","setIsLoading","isClarifying","setIsClarifying","clarifiedSymptoms","setClarifiedSymptoms","currentQuestionnaireIndex","setCurrentQuestionnaireIndex","selectedClarifications","setSelectedClarifications","setError","userId","setUserId","isAuthReady","setIsAuthReady","darkMode","setDarkMode","recognitionRef","inputRef","authenticateFirebase","user","uid","crypto","randomUUID","e","document","documentElement","classList","add","remove","window","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","onresult","event","transcript","results","prev","trim","onerror","onend","warn","startVoiceInput","start","callGeminiApi","prompt","isJson","customResponseSchema","retries","chatHistory","role","parts","text","payload","contents","generationConfig","responseMimeType","responseSchema","type","properties","remedies","items","name","used_for","how_it_works","dosage","stop_when","avoid","side_effects","source","required","lifestyle_tips","apiUrl","response","fetch","method","headers","body","stringify","ok","Error","status","result","json","candidates","length","content","responseText","delay","Math","pow","Promise","res","setTimeout","fetchRemedies","parsedJson","message","clarifySymptoms","clarificationSchema","category","options","clarificationArray","handleCheckboxChange","option","prevSelected","includes","filter","item","handleQuestionnaireNavigation","currentCategory","selectedOptionsForCurrentStep","currentInput","newSymptomPart","join","prevIndex","resetApp","className","children","src","fileName","_jsxFileName","lineNumber","columnNumber","href","rel","onClick","size","ref","value","onChange","target","placeholder","disabled","map","optIndex","checked","remedy","index","tip","_c","$RefreshReg$"],"sources":["C:/Users/SURESH VISLAVATH/OneDrive/Desktop/homeopathy-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\n// Lucide React Icons for a clean look\r\nimport { Sun, Moon, Mic, ChevronRight, Heart, Pill, ShieldOff, Leaf, BookOpen } from 'lucide-react';\r\n\r\n// Define the Firebase config and app ID from the global variables\r\n// Provide fallback values for local development\r\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {\r\n  apiKey: \"YOUR_FIREBASE_API_KEY\", // Replace with your actual Firebase API Key if you want to use Firebase locally\r\n  authDomain: \"YOUR_FIREBASE_AUTH_DOMAIN\",\r\n  projectId: \"YOUR_FIREBASE_PROJECT_ID\",\r\n  storageBucket: \"YOUR_FIREBASE_STORAGE_BUCKET\",\r\n  messagingSenderId: \"YOUR_FIREBASE_MESSAGING_SENDER_ID\",\r\n  appId: \"YOUR_FIREBASE_APP_ID\"\r\n};\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id-for-local'; // Fallback for local\r\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null; // Fallback for local\r\n\r\n// Initialize Firebase outside the component to avoid re-initialization\r\nlet app;\r\nlet auth;\r\nlet db;\r\n\r\ntry {\r\n  app = initializeApp(firebaseConfig);\r\n  auth = getAuth(app);\r\n  db = getFirestore(app);\r\n} catch (error) {\r\n  console.error(\"Firebase initialization error:\", error);\r\n}\r\n\r\nconst App = () => {\r\n  const [symptomInput, setSymptomInput] = useState('');\r\n  const [remedyData, setRemedyData] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isClarifying, setIsClarifying] = useState(false);\r\n  // clarifiedSymptoms will now store an array of objects: [{ category: string, options: string[] }]\r\n  const [clarifiedSymptoms, setClarifiedSymptoms] = useState(null);\r\n  const [currentQuestionnaireIndex, setCurrentQuestionnaireIndex] = useState(0); // Current step in questionnaire\r\n  const [selectedClarifications, setSelectedClarifications] = useState([]); // Stores all selected option strings across steps\r\n  const [error, setError] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [isAuthReady, setIsAuthReady] = useState(false);\r\n  const [darkMode, setDarkMode] = useState(false); // Dark mode state\r\n\r\n  // Ref for voice input\r\n  const recognitionRef = useRef(null);\r\n  const inputRef = useRef(null); // Ref for the main symptom input field\r\n\r\n  // Authenticate with Firebase on component mount\r\n  useEffect(() => {\r\n    const authenticateFirebase = async () => {\r\n      if (!auth) {\r\n        setError(\"Firebase Auth not initialized.\");\r\n        setIsAuthReady(true);\r\n        return;\r\n      }\r\n      try {\r\n        if (initialAuthToken) {\r\n          await signInWithCustomToken(auth, initialAuthToken);\r\n        } else {\r\n          await signInAnonymously(auth);\r\n        }\r\n        onAuthStateChanged(auth, (user) => {\r\n          if (user) {\r\n            setUserId(user.uid);\r\n          } else {\r\n            setUserId(crypto.randomUUID()); // Fallback for unauthenticated\r\n          }\r\n          setIsAuthReady(true);\r\n        });\r\n      } catch (e) {\r\n        console.error(\"Firebase authentication error:\", e);\r\n        setError(\"Failed to authenticate with Firebase.\");\r\n        setUserId(crypto.randomUUID()); // Fallback to a random ID\r\n        setIsAuthReady(true);\r\n      }\r\n    };\r\n\r\n    if (auth && !isAuthReady) {\r\n      authenticateFirebase();\r\n    }\r\n  }, [auth, initialAuthToken, isAuthReady]); // Added auth and initialAuthToken as dependencies for useEffect.\r\n\r\n  // Handle dark mode class on body\r\n  useEffect(() => {\r\n    if (darkMode) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, [darkMode]);\r\n\r\n  // Initialize SpeechRecognition\r\n  useEffect(() => {\r\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      recognitionRef.current = new SpeechRecognition();\r\n      recognitionRef.current.continuous = false; // Only get one result at a time\r\n      recognitionRef.current.interimResults = false; // Don't show interim results\r\n\r\n      recognitionRef.current.onresult = (event) => {\r\n        const transcript = event.results[0][0].transcript;\r\n        if (inputRef.current) {\r\n          // Determine which input field to update based on context\r\n          if (isClarifying) { // If questionnaire is active, update symptomInput\r\n            setSymptomInput(prev => prev.trim() ? `${prev}, ${transcript}` : transcript);\r\n          } else { // Otherwise, update the main symptom input\r\n            setSymptomInput(transcript);\r\n          }\r\n        }\r\n        setIsLoading(false); // Stop loading indicator after speech input\r\n      };\r\n\r\n      recognitionRef.current.onerror = (event) => {\r\n        console.error('Speech recognition error:', event.error);\r\n        setError(`Speech recognition error: ${event.error}`);\r\n        setIsLoading(false);\r\n      };\r\n\r\n      recognitionRef.current.onend = () => {\r\n        setIsLoading(false); // Ensure loading is off when recognition ends\r\n      };\r\n    } else {\r\n      console.warn('Speech Recognition not supported in this browser.');\r\n      // Optionally, disable mic button or show a message\r\n    }\r\n  }, [isClarifying]); // Re-initialize if isClarifying changes to correctly target input\r\n\r\n  const startVoiceInput = () => {\r\n    if (recognitionRef.current && !isLoading) {\r\n      setError(null);\r\n      setIsLoading(true); // Show loading indicator while listening\r\n      try {\r\n        recognitionRef.current.start();\r\n      } catch (e) {\r\n        console.error(\"Error starting speech recognition:\", e);\r\n        setError(\"Could not start voice input. Please ensure microphone access is granted.\");\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  // Generic function to call Gemini API with exponential backoff\r\n  const callGeminiApi = async (prompt, isJson, customResponseSchema = null, retries = 0) => {\r\n    const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n    const payload = {\r\n      contents: chatHistory,\r\n      generationConfig: isJson ? {\r\n        responseMimeType: \"application/json\",\r\n        responseSchema: customResponseSchema || { // Default schema for remedies\r\n          type: \"OBJECT\",\r\n          properties: {\r\n            remedies: {\r\n              type: \"ARRAY\",\r\n              items: {\r\n                type: \"OBJECT\",\r\n                properties: {\r\n                  name: { type: \"STRING\" },\r\n                  used_for: { type: \"STRING\" },\r\n                  how_it_works: { type: \"STRING\" },\r\n                  dosage: { type: \"STRING\" },\r\n                  stop_when: { type: \"STRING\" },\r\n                  avoid: { type: \"STRING\" },\r\n                  side_effects: { type: \"STRING\" },\r\n                  source: { type: \"STRING\" },\r\n                },\r\n                required: [\"name\", \"used_for\", \"how_it_works\", \"dosage\", \"stop_when\", \"avoid\", \"side_effects\", \"source\"],\r\n              },\r\n            },\r\n            lifestyle_tips: {\r\n              type: \"ARRAY\",\r\n              items: { type: \"STRING\" },\r\n            },\r\n          },\r\n          required: [\"remedies\"],\r\n        },\r\n      } : {},\r\n    };\r\n\r\n    // YOUR ACTUAL GEMINI API KEY IS NOW HERE\r\n    const apiKey = \"AIzaSyC1T68RXnaa55ek6uS-YrF8oRAWB_8QeBI\"; \r\n    // If you are running this in the Canvas environment, the apiKey will be provided automatically.\r\n    // For local development, you MUST replace the placeholder above with your own key.\r\n\r\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\r\n\r\n    try {\r\n      const response = await fetch(apiUrl, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.candidates && result.candidates.length > 0 &&\r\n          result.candidates[0].content && result.candidates[0].content.parts &&\r\n          result.candidates[0].content.parts.length > 0) {\r\n        const responseText = result.candidates[0].content.parts[0].text;\r\n        return isJson ? JSON.parse(responseText) : responseText;\r\n      } else {\r\n        throw new Error(\"Invalid response format from API.\");\r\n      }\r\n    } catch (e) {\r\n      console.error(\"API call error:\", e);\r\n      if (retries < 3) { // Exponential backoff with max 3 retries\r\n        const delay = Math.pow(2, retries) * 1000; // 1s, 2s, 4s\r\n        await new Promise(res => setTimeout(res, delay)); // Wait for delay\r\n        return callGeminiApi(prompt, isJson, customResponseSchema, retries + 1); // Retry with custom schema\r\n      } else {\r\n        throw new Error(\"Failed to communicate with the AI. Please try again later.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchRemedies = async () => {\r\n    if (!symptomInput.trim()) {\r\n      setError(\"Please enter symptoms or a disease name.\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setRemedyData(null);\r\n    setClarifiedSymptoms(null); // Clear clarified symptoms when fetching remedies\r\n    setSelectedClarifications([]); // Clear selections\r\n    setCurrentQuestionnaireIndex(0); // Reset questionnaire index\r\n\r\n    const prompt = `As a world-class expert homeopath, provide structured, professional, safe, and clear homeopathic remedy suggestions for the following symptoms/disease: '${symptomInput}'.\r\n    Please provide the output in the following JSON format:\r\n    \\`\\`\\`json\r\n    {\r\n      \"remedies\": [\r\n        {\r\n          \"name\": \"Bryonia alba\",\r\n          \"used_for\": \"Dry cough with chest pain\",\r\n          \"how_it_works\": \"Relieves cough by reducing internal dryness and inflammation in the chest lining.\",\r\n          \"dosage\": \"30C, twice a day for 5 days\",\r\n          \"stop_when\": \"When cough reduces significantly or after 7 days\",\r\n          \"avoid\": \"Pregnant women, children under 5 years\",\r\n          \"side_effects\": \"Rare nausea or dry mouth\",\r\n          \"source\": \"Extracted from the root of the white bryony plant\"\r\n        }\r\n      ],\r\n      \"lifestyle_tips\": [\r\n        \"Drink warm water with honey\",\r\n        \"Avoid cold foods and drinks\",\r\n        \"Rest the voice if throat is affected\"\r\n      ]\r\n    }\r\n    \\`\\`\\`\r\n    Ensure the 'dosage' includes potency, frequency, and duration. 'stop_when' should clearly state when to discontinue. 'avoid' should list who should not use it. 'side_effects' should mention possible side effects. 'source' should state the natural origin. Provide top 3 remedies if possible.`;\r\n\r\n    try {\r\n      const parsedJson = await callGeminiApi(prompt, true);\r\n      setRemedyData(parsedJson);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const clarifySymptoms = async () => {\r\n    if (!symptomInput.trim()) {\r\n      setError(\"Please enter symptoms or a disease name to clarify.\");\r\n      return;\r\n    }\r\n\r\n    setIsClarifying(true);\r\n    setError(null);\r\n    setRemedyData(null); // Clear previous remedy data\r\n    setClarifiedSymptoms(null); // Clear previous clarifications\r\n    setSelectedClarifications([]); // Clear selections\r\n    setCurrentQuestionnaireIndex(0); // Reset to the first step\r\n\r\n    // Define the schema for the structured clarification response\r\n    const clarificationSchema = {\r\n      type: \"ARRAY\",\r\n      items: {\r\n        type: \"OBJECT\",\r\n        properties: {\r\n          category: { type: \"STRING\" },\r\n          options: {\r\n            type: \"ARRAY\",\r\n            items: { type: \"STRING\" }\r\n          }\r\n        },\r\n        required: [\"category\", \"options\"]\r\n      }\r\n    };\r\n\r\n    // Updated prompt to specifically ask for a much more comprehensive questionnaire (20-50 questions)\r\n    const prompt = `As a professional classical homeopath AI assistant, I need to thoroughly understand the user's symptoms or disease: '${symptomInput}'. Please generate a comprehensive questionnaire with multiple categories of clarifying questions. These questions should delve deeply into the **specific characteristics of the current symptoms**, **past medical history (including family history and previous illnesses/treatments related or unrelated to the current issue)**, **mental and emotional state (including temperament, anxieties, fears, mood swings, reactions to stress)**, and **relevant lifestyle factors (e.g., detailed diet preferences/aversions, sleep patterns and quality, energy levels throughout the day, daily habits, reactions to weather/temperature changes, environmental sensitivities, thirst, perspiration, desires, and aversions)**.\r\n\r\n    Aim for a total of **20 to 50 specific, distinct questions/statements** across all categories, ensuring each category has a diverse set of 3-7 tickable options that a user can choose from. The questions should be phrased empathetically and professionally, like a homeodoctor conducting a detailed intake.\r\n\r\n    Format your response as a JSON array of objects, where each object has a 'category' (the question or general symptom area) and an 'options' array (a list of specific choices).\r\n\r\n    Example of desired output structure with more extensive categories and options (for reference, actual content will be dynamic):\r\n    [\r\n      {\"category\": \"Current Symptom - Pain Character\", \"options\": [\"Stinging\", \"Burning\", \"Throbbing\", \"Dull ache\", \"Sharp, cutting\", \"Pressing\", \"Tearing\", \"Sore, bruised\", \"Cramping\"]},\r\n      {\"category\": \"Current Symptom - Modalities (Better/Worse)\", \"options\": [\"Worse from cold\", \"Better from warmth\", \"Worse from motion\", \"Better from rest\", \"Worse at night\", \"Better in open air\", \"Worse from touch\", \"Better from pressure\", \"Worse after eating\"]},\r\n      {\"category\": \"Past Medical History - Childhood Illnesses\", \"options\": [\"Frequent colds/flu as child\", \"Measles\", \"Mumps\", \"Chickenpox\", \"Frequent ear infections\", \"Chronic tonsillitis\"]},\r\n      {\"category\": \"Past Medical History - Adult Illnesses\", \"options\": [\"Recurrent infections\", \"Allergies/Asthma history\", \"Skin conditions (eczema, psoriasis)\", \"Digestive disorders (IBS, ulcers)\", \"Migraines/Headaches\", \"Joint pain/Arthritis\", \"Thyroid issues\", \"Diabetes\"]},\r\n      {\"category\": \"Mental/Emotional State - Mood\", \"options\": [\"Irritable/Impatient\", \"Anxious/Fearful\", \"Sad/Depressed\", \"Indifferent/Apathetic\", \"Restless/Agitated\", \"Overly sensitive\", \"Easily angered\", \"Cheerful/Optimistic\"]},\r\n      {\"category\": \"Lifestyle - Sleep Patterns\", \"options\": [\"Sound and refreshing\", \"Restless with frequent waking\", \"Difficulty falling asleep\", \"Waking too early and cannot return to sleep\", \"Sleepwalking/talking\", \"Drowsiness during the day\", \"Insomnia from thoughts\"]},\r\n      {\"category\": \"Lifestyle - Food Preferences/Aversions\", \"options\": [\"Craves sweets\", \"Craves salty foods\", \"Aversion to meat\", \"Desires sour foods\", \"Thirst for cold drinks\", \"No thirst\", \"Craves spicy foods\", \"Aversion to fatty foods\", \"Desires milk\"]},\r\n      {\"category\": \"Lifestyle - Thirst\", \"options\": [\"Frequent, large quantities\", \"Frequent, small sips\", \"No thirst\", \"Thirst for cold drinks\", \"Thirst for warm drinks\"]},\r\n      {\"category\": \"Lifestyle - Perspiration\", \"options\": [\"Profuse perspiration\", \"Scanty perspiration\", \"Perspires easily\", \"Night sweats\", \"Perspiration stains yellow\"]},\r\n      {\"category\": \"Lifestyle - General Sensitivities\", \"options\": [\"Sensitive to noise\", \"Sensitive to light\", \"Sensitive to odors\", \"Sensitive to touch\", \"Sensitive to pain\"]},\r\n      {\"category\": \"Lifestyle - Reactions to Weather\", \"options\": [\"Worse in cold, damp weather\", \"Better in open air\", \"Worse in stuffy rooms\", \"Sensitive to drafts\", \"Worse from heat\", \"Better from warmth\", \"Worse before storms\"]}\r\n    ]`;\r\n\r\n    try {\r\n      const clarificationArray = await callGeminiApi(prompt, true, clarificationSchema);\r\n      setClarifiedSymptoms(clarificationArray);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    } finally {\r\n      setIsClarifying(false);\r\n    }\r\n  };\r\n\r\n  // Handler for checkbox changes for the current step\r\n  const handleCheckboxChange = (option) => {\r\n    setSelectedClarifications((prevSelected) =>\r\n      prevSelected.includes(option)\r\n        ? prevSelected.filter((item) => item !== option)\r\n        : [...prevSelected, option]\r\n    );\r\n  };\r\n\r\n  // Navigate questionnaire steps\r\n  const handleQuestionnaireNavigation = async () => {\r\n    if (!clarifiedSymptoms) return;\r\n\r\n    const currentCategory = clarifiedSymptoms[currentQuestionnaireIndex];\r\n    const selectedOptionsForCurrentStep = currentCategory.options.filter(option => selectedClarifications.includes(option));\r\n\r\n    // Append selected options for current step to symptomInput\r\n    const currentInput = symptomInput.trim();\r\n    const newSymptomPart = selectedOptionsForCurrentStep.length > 0 ? selectedOptionsForCurrentStep.join(', ') : '';\r\n    setSymptomInput(currentInput ? `${currentInput}, ${newSymptomPart}` : newSymptomPart);\r\n\r\n    // If it's the last step, trigger remedy fetch\r\n    if (currentQuestionnaireIndex === clarifiedSymptoms.length - 1) {\r\n      setClarifiedSymptoms(null); // Hide questionnaire\r\n      setSelectedClarifications([]); // Clear selections\r\n      setCurrentQuestionnaireIndex(0); // Reset index\r\n      await fetchRemedies(); // Fetch remedies with accumulated symptoms\r\n    } else {\r\n      // Move to next step\r\n      setCurrentQuestionnaireIndex(prevIndex => prevIndex + 1);\r\n      // Keep existing selectedClarifications as they are cumulative\r\n    }\r\n  };\r\n\r\n  const resetApp = () => {\r\n    setSymptomInput('');\r\n    setRemedyData(null);\r\n    setIsLoading(false);\r\n    setIsClarifying(false);\r\n    setClarifiedSymptoms(null);\r\n    setCurrentQuestionnaireIndex(0);\r\n    setSelectedClarifications([]);\r\n    setError(null);\r\n    // userId and isAuthReady remain\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen ${darkMode ? 'bg-gray-900 text-gray-100' : 'bg-gradient-to-br from-green-50 to-blue-100 text-gray-800'} p-4 sm:p-6 lg:p-8 flex flex-col items-center font-inter transition-colors duration-300`}>\r\n      <script src=\"https://cdn.tailwindcss.com\"></script>\r\n      <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap\" rel=\"stylesheet\" />\r\n      <link href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\" rel=\"stylesheet\" />\r\n\r\n      <div className={`w-full max-w-3xl ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg p-6 sm:p-8 lg:p-10 mb-8 transition-colors duration-300`}>\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className={`text-3xl sm:text-4xl font-bold ${darkMode ? 'text-green-300' : 'text-green-700'} text-center flex-grow`}>\r\n            Homeopathy Assistant\r\n          </h1>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <button\r\n              onClick={() => setDarkMode(!darkMode)}\r\n              className={`p-2 rounded-full ${darkMode ? 'bg-gray-700 text-yellow-300' : 'bg-gray-200 text-gray-700'} hover:scale-105 transition-transform duration-200`}\r\n              aria-label={darkMode ? \"Switch to Light Mode\" : \"Switch to Dark Mode\"}\r\n            >\r\n              {darkMode ? <Sun size={20} /> : <Moon size={20} />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <p className={`text-center ${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-8`}>\r\n          Enter your symptoms or a disease name to get personalized homeopathic remedy suggestions.\r\n        </p>\r\n\r\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-6\">\r\n          <div className=\"relative flex-grow\">\r\n            <input\r\n              ref={inputRef} // Attach ref for voice input\r\n              type=\"text\"\r\n              value={symptomInput}\r\n              onChange={(e) => {\r\n                setSymptomInput(e.target.value);\r\n                setClarifiedSymptoms(null); // Clear clarification when input changes\r\n                setSelectedClarifications([]); // Clear selections when input changes\r\n                setCurrentQuestionnaireIndex(0); // Reset questionnaire index\r\n              }}\r\n              placeholder=\"e.g., dry cough with chest pain, fever, anxiety\"\r\n              className={`w-full p-3 pr-10 border ${darkMode ? 'border-gray-600 bg-gray-700 text-gray-100' : 'border-gray-300 bg-white text-gray-700'} rounded-lg focus:outline-none focus:ring-2 ${darkMode ? 'focus:ring-green-400' : 'focus:ring-blue-400'}`}\r\n              disabled={isLoading || !isAuthReady}\r\n            />\r\n            <button\r\n              onClick={startVoiceInput}\r\n              className={`absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full ${darkMode ? 'text-gray-300 hover:bg-gray-600' : 'text-gray-500 hover:bg-gray-100'} transition-colors duration-200`}\r\n              aria-label=\"Voice Input\"\r\n              disabled={isLoading || !isAuthReady || !recognitionRef.current}\r\n            >\r\n              <Mic size={20} />\r\n            </button>\r\n          </div>\r\n          <button\r\n            onClick={fetchRemedies}\r\n            disabled={isLoading || !isAuthReady || isClarifying}\r\n            className={`px-6 py-3 ${darkMode ? 'bg-green-600 hover:bg-green-700 focus:ring-green-500' : 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500'} text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed`}\r\n          >\r\n            {isLoading && !isClarifying ? 'Searching...' : 'Get Remedies Directly'}\r\n          </button>\r\n          <button\r\n            onClick={clarifySymptoms}\r\n            disabled={isClarifying || !isAuthReady || isLoading}\r\n            className={`px-6 py-3 ${darkMode ? 'bg-teal-600 hover:bg-teal-700 focus:ring-teal-500' : 'bg-green-600 hover:bg-green-700 focus:ring-green-500'} text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed`}\r\n          >\r\n            {isClarifying ? 'Clarifying...' : '✨ Clarify Symptoms'}\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className={`${darkMode ? 'bg-red-800 text-red-200' : 'bg-red-100 border border-red-400 text-red-700'} px-4 py-3 rounded-lg relative mb-6`} role=\"alert\">\r\n            <strong className=\"font-bold\">Error: </strong>\r\n            <span className=\"block sm:inline\">{error}</span>\r\n          </div>\r\n        )}\r\n\r\n        {userId && (\r\n          <div className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'} text-center mb-4`}>\r\n            User ID: {userId}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {clarifiedSymptoms && (\r\n        <div className={`w-full max-w-3xl ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg p-6 sm:p-8 lg:p-10 mb-8 transition-colors duration-300`}>\r\n          <h2 className={`text-2xl sm:text-3xl font-bold ${darkMode ? 'text-green-300' : 'text-gray-800'} mb-4 text-center`}>\r\n            Symptom Clarification\r\n          </h2>\r\n          <p className={`text-sm italic ${darkMode ? 'text-gray-400' : 'text-gray-600'} mb-4 text-center`}>\r\n            Select relevant options to refine your symptom input.\r\n          </p>\r\n          <div className=\"space-y-4\">\r\n            {clarifiedSymptoms[currentQuestionnaireIndex] && (\r\n              <div className={`border ${darkMode ? 'border-gray-700' : 'border-gray-200'} rounded-lg p-4 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\r\n                <h3 className={`text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-3`}>\r\n                  {currentQuestionnaireIndex + 1}. {clarifiedSymptoms[currentQuestionnaireIndex].category}\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {clarifiedSymptoms[currentQuestionnaireIndex].options.map((option, optIndex) => (\r\n                    <label key={optIndex} className={`flex items-center space-x-3 cursor-pointer p-2 rounded-md ${darkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'} transition-colors duration-200`}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedClarifications.includes(option)}\r\n                        onChange={() => handleCheckboxChange(option)}\r\n                        className={`form-checkbox h-5 w-5 ${darkMode ? 'text-green-500 focus:ring-green-400' : 'text-blue-600 focus:ring-blue-500'} rounded`}\r\n                      />\r\n                      <span className={`${darkMode ? 'text-gray-100' : 'text-gray-800'} text-base`}>{option}</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={handleQuestionnaireNavigation}\r\n            className={`mt-6 w-full px-6 py-3 ${darkMode ? 'bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500' : 'bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500'} text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed`}\r\n            disabled={isLoading}\r\n          >\r\n            {currentQuestionnaireIndex === clarifiedSymptoms.length - 1 ? 'Add Selected to Symptoms and Get Remedies' : 'Next Step'}\r\n            <ChevronRight size={20} className=\"inline-block ml-2\" />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {remedyData && remedyData.remedies && remedyData.remedies.length > 0 && (\r\n        <div className={`w-full max-w-3xl ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg p-6 sm:p-8 lg:p-10 transition-colors duration-300`}>\r\n          <h2 className={`text-2xl sm:text-3xl font-bold ${darkMode ? 'text-green-300' : 'text-gray-800'} mb-6 text-center`}>\r\n            Suggested Remedies\r\n          </h2>\r\n          {remedyData.remedies.map((remedy, index) => (\r\n            <div key={index} className={`border ${darkMode ? 'border-gray-700' : 'border-gray-200'} rounded-lg p-5 mb-6 last:mb-0 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\r\n              <h3 className={`text-xl font-semibold ${darkMode ? 'text-blue-300' : 'text-blue-700'} mb-3 flex items-center`}>\r\n                <Heart size={24} className=\"mr-2 text-red-500\" /> ✅ {remedy.name}\r\n              </h3>\r\n              <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>Treats:</strong> {remedy.used_for}</p>\r\n              <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-4`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>How it works:</strong> {remedy.how_it_works}</p>\r\n\r\n              <div className={`border-t ${darkMode ? 'border-gray-600' : 'border-gray-200'} pt-4 mt-4`}>\r\n                <h4 className={`text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-2 flex items-center`}>\r\n                  <Pill size={20} className=\"mr-2 text-yellow-500\" /> Dosage and Potency\r\n                </h4>\r\n                <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>Recommended:</strong> {remedy.dosage}</p>\r\n                <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>Stop when:</strong> {remedy.stop_when}</p>\r\n              </div>\r\n\r\n              <div className={`border-t ${darkMode ? 'border-gray-600' : 'border-gray-200'} pt-4 mt-4`}>\r\n                <h4 className={`text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-2 flex items-center`}>\r\n                  <ShieldOff size={20} className=\"mr-2 text-orange-500\" /> When to Avoid This Remedy\r\n                </h4>\r\n                <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>Avoid if:</strong> {remedy.avoid}</p>\r\n                <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'} mb-2`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>Possible side effects:</strong> {remedy.side_effects}</p>\r\n                <p className={`${darkMode ? 'text-gray-400' : 'text-gray-700'} text-sm italic mt-2`}>Always consult a qualified healthcare professional if symptoms persist or worsen, or before starting any new treatment, especially if you have underlying health conditions or are on other medications.</p>\r\n              </div>\r\n\r\n              <div className={`border-t ${darkMode ? 'border-gray-600' : 'border-gray-200'} pt-4 mt-4`}>\r\n                <h4 className={`text-lg font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-2 flex items-center`}>\r\n                  <Leaf size={20} className=\"mr-2 text-green-500\" /> Remedy Source\r\n                </h4>\r\n                <p className={`${darkMode ? 'text-gray-200' : 'text-gray-700'}`}><strong className={`${darkMode ? 'text-gray-100' : 'text-gray-800'}`}>Origin:</strong> {remedy.source}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {remedyData.lifestyle_tips && remedyData.lifestyle_tips.length > 0 && (\r\n            <div className={`border ${darkMode ? 'border-gray-700' : 'border-gray-200'} rounded-lg p-5 mt-6 ${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\r\n              <h3 className={`text-xl font-semibold ${darkMode ? 'text-green-200' : 'text-gray-800'} mb-3 flex items-center`}>\r\n                <BookOpen size={20} className=\"mr-2 text-blue-500\" /> General Lifestyle Tips\r\n              </h3>\r\n              <ul className={`list-disc list-inside ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                {remedyData.lifestyle_tips.map((tip, index) => (\r\n                  <li key={index} className=\"mb-1\">{tip}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}